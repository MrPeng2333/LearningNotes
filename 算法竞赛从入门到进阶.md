# 算法竞赛从入门到进阶

## 动态规划

### 区间DP

#### 区间DP以及区间DP的优化？

##### 区间DP常见的状态转移方程`dp[i][j]=min(dp[i][j], dp[i][k]+dp[k+1][j]+w[i][j])`

##### `dp[i][j]`表示从`i`状态到`j`状态的最小花费。题目一般是求`dp[1][n]`

##### `dp[i][k]+dp[k+1][j]`体现了递推关系。`k`在`i`到`j`之间滑动，`k`有一个最优值，使得`dp[i][j]`最小

##### `w[i][j]`的性质很重要。`w[i][j]`是和题目有关的费用，如果它满足四边形不等式和单调性，那么用DP计算dp的时候，就能进行四边形不等式优化

##### ![](https://gitee.com/mr-peng2333/image-storage/raw/master/img/20211113161131.png)

##### 上图的时间复杂度为`O(n^3)`，只需要一个简单的优化操作，就能把复杂度优化为`O(n^2)`。这个操作就是就是把循环`i≤k<j`改为`s[i][j-1]≤k≤s[i+1][j]`，其中`s[i][j]`记录从`i`到`j`的最优分割点，这个优化被称为四边形不等式优化，下面是优化后的代码

##### ![](https://gitee.com/mr-peng2333/image-storage/raw/master/img/20211113163834.png)

#### 什么是平行四边形优化原理（四边形不等式定理）？

##### 四边形不等式定理：如果 `w(i,j)`满足四边形不等式和单调性，则用DP计算`dp[][]`的时间复杂度是`O(n^2)`，这个定理通过下面两个引理来证明

##### 引理1：状态转移方程`dp[i][j]=min(dp[i][k]+dp[k+1][j]+w[i][j])`，如果`w[i][j]`满足四边形不等式和单调性，那么`dp[i][j]`也满足四边形不等式

##### 引理2：记`s[i][j]=k`是`dp[i][j]`取得最优值时的k，如果`dp`满足四边形不等式，那么`s[i][j-1]≤s[i][j]≤s[i+1][j]`，即`s[i][j-1]≤k≤s[i+1][j]`

###### 参考文章：[1]https://blog.csdn.net/weixin_43914593/article/details/105150937；

###### [2]https://cse.hkust.edu.hk/mjg_lib/bibs/DPSu/DPSu.Files/p429-yao.pdf

#### 什么是区间包含的单调性？

##### 如果对于 a  ≤ b  ≤ c  ≤ d，有cost(b, c)  ≤ cost(a, d)，那么说明函数cost具有区间包含的单调性

#### 什么是四边形不等式？

##### 如果对于a  ≤ b  ≤ c  ≤ d，有cost(a, c) + cost(b, d) ≤ cost(b, c) + cost(a, d)，我们称函数cost满足四边形不等式

##### 证明：设函数cost定义为（也可以定义为区间和）cost(i, j) = n_i × n\_(i + 1) × ... × n_j，其中n ≥ 0

##### 设x = n_a × n\_(a+1) × ... × n\_(b-1)，y = n_b × n\_(b + 1) × ... × n_c，z = n_(c + 1) × n\_(c + 2) × ... n_d。则cost(a, c) + cost(b, d) ≤ cost(b, c) + cost(a, d)写为xy + yz ≤ y + xyz

##### 化简为y(x + z) ≤ y(1 + xz) => 0 ≤ y[(1 + xz) - (x + z)] => 0 ≤ y[1 + x(z - 1) - z] => 0 ≤ y[x(z - 1) - (z - 1)] => 0 ≤ y(x - 1)(z - 1) 

### 树形DP

#### 什么是树形DP？

##### 树形DP是指在“树”这种数据结构上进行的DP：给出一棵树，要求以最少的代价（或取得最大收益）完成给定的操作

### 数位DP

#### 什么是数位DP？

##### 数位DP是指对数字的“位”进行的与计数有关的DP。一个数有个位、十位、百位、千位等，数的每一位就是数位。数位DP用来解决与数字操作有关的问题，例如数位之和问题、特定数字问题等。

##### 这些问题的特征是给定的区间超级大，不能用暴力的方法逐个检查，必须用接近O(log[2]n)复杂度的算法。

##### 解题的思路是用DP对“数位”进行操作，记录已经算过的区间的状态，用在后续的计算中，快速进行大范围的筛选

### 状态压缩DP

#### 什么是状态DP？

##### 状态压缩DP是处理复杂集合问题的DP，集合的状态有很多，操作复杂，往往把方案用二进制数（“压缩”到这个二进制数中）来表示和操作。二进制操作有或、与、取反、移位等

## 数学

### 高精度计算

#### 万进制求n!？

##### ![](https://gitee.com/mr-peng2333/image-storage/raw/master/img/20211122105456.png)

### 数论

#### 取模操作满足的性质？

##### 加：(a + b) mod m = ((a mod m) + (b mod m)) mod m

##### 减：(a - b) mod m = ((a mod m) - (b mod m)) mod m

##### 乘：(a - b) mod m = ((a mod m) × (b mod m)) mod m

#### 快速幂原理？

##### 对与幂运算a^n即n个a相乘，先算a^2，然后继续算(a^2)^2，一直算到n次幂。这是分支法的思想，复杂度为O(log[2]n)

#### 快速幂代码实现？

##### ![](https://gitee.com/mr-peng2333/image-storage/raw/master/img/20211123135515.png)

#### 矩阵快速幂代码实现？

##### ![](https://gitee.com/mr-peng2333/image-storage/raw/master/img/20211123140925.png)







