# Go语言项目开发实战

## 孔令飞

### 项目规范

#### 项目开发中常用的规范分类？

##### 非编码类规范：开源规范、文档规范、版本规范、Commit规范、发布规范

##### 编码类规范：目录规范、代码规范、接口规范、日志规范、错误码规范

#### 开源规范要点？

##### 选择一个开源协议

##### 高的单元覆盖率

##### 代码库和提交记录中，不出现内部IP、内部域名、密码、密钥这类信息

##### 即时处理别的开发者提交的pull request、issue、评论

##### 持续的更新功能、修复BUG，结项、不维护的开源项目，即时归档、并在项目描述中加以说明

#### 开源协议概述？

##### 只有开源项目才会用到开源协议

##### 经常使用的6种开源协议：GPL、MPL、LGPL、Apache、BSD和MIT，下图为如何选择适合自己的开源协议：

##### ![img](https://static001.geekbang.org/resource/image/61/00/61b4d5da6c8327b738e9657c6c144000.png?wh=6503*2466)

#### 项目中最需要的3类文档？

##### README文档：readme.so/https://time.geekbang.org/column/article/380033

##### 项目文档

##### API接口文档

#### API接口文档的四种编写方式？

![img](https://static001.geekbang.org/resource/image/91/63/912fe30a70df0866d168ef1c0a50cb63.jpeg?wh=1920*1080)

#### API接口文档需要遵循的规范？

##### 完整的API接口介绍文档

##### API接口变更历史文档、通用说明、数据结构说明、错误码描述

##### API接口使用文档，包含接口描述、请求方法、请求参数、输出参数和请求示例

#### 什么事语义化版本规范？

##### 语义化版本规范（SemVer，Semantic Versioning）是由GitHub起草的统一的版本好表示规范

##### 语义化版本格式为：主版本号.次版本号.修订号（X.Y.Z），其中X、Y、Z为非负的整数，且禁止在数字前方补零

##### 版本号按以下规则递增：主版本号（MAIJOR）：当做了不兼容的API修改

##### 次版本号（MINOR）：当做了向下兼容的功能性新增及修改。这里有个不成文的规定，偶数为稳定版本，奇数为开发版本

##### 修订号（PATCH）：当做了向下兼容的问题修正

#### 语义化版本控制规范？

##### 标记版本号的软件发行后，禁止改变该版本软件的内容，任何修改都必须以新版本发行

##### 主版本号为零（0.y.z）的软件处于开发初始阶段，一该切都可能随时改变，这样的公共API不应该视为稳定版本。1.0.0的版本号被界定为第一个稳定版本，之后的所有版本号更新都基于该版本号进行修改

##### 修订号Z（x.y.Z|x>0）必须在只做了向下兼容的修正时才递增，这里的修正其实就是Bug修复

##### 次版本号（x.Y.z|x>0）必须在有向下兼容的新功能出现时才递增，在任何公共API的功能被标记为弃用时也必须递增，当有改进时也可以递增。每当次版本号递增时，修订号必须归零

##### 主版本号（X.y.z|X>0）必须在有任何不兼容的修改被加入公共API时递增。每当主版本号递增时，次版本号和修订号必须归零

#### 如何确定版本号？

##### fix类型的commit可以将修订号+1

##### feat类型的commit可以将此版本号+1

##### 带有BREAKING CHANGE的commit可以将主版本号+1